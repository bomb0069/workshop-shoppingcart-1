<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>SCK Shop</title>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">

    <style>
        .main-content{
            margin-top: 80px;
        }

        .product-name-section{
            margin: 50px 0px;
        }

        .product-description{
            font-size: 1.5em;
        }
        .product-description .description-item{
            margin: 10px 0px;
            clear: both;
        }
        
        .product-description .description-item label{
            float: left;
        }

        .product-description .description-item .description-value{
            float: right;
            width: 70%;
        }

        .checkout {
            float: left;
            border: 0;
            margin-top: 50px;
            padding: 6px 25px;
            background-color: #6b6;
            color: #fff;
            font-size: 25px;
            border-radius: 3px;
            width: 300px;
        }
            
        .checkout:hover {
            background-color: #494;
        }
        

    </style>
  </head>

  <body>

        <nav class="navbar navbar-inverse navbar-fixed-top">
                <div class="container">
                  <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                      <span class="sr-only">Toggle navigation</span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#">SCK SHOP</a>
                  </div>
                </div>
              </nav>

            <div class="main-content container">
                <div class="row">
                    <div class="col md-12 product-name-section">
                        <h1 id="product-name">Toy Name</h1>
                    </div>
                    <div class="col-md-4">
                            <img src="http://placehold.it/400x600/000/fff" class="img-responsive text-center" alt="Responsive image">
                    </div>
                    <div class="col-md-8 product-description">
                        <div class="description-item">
                            <label>Brand</label>
                            <div class="description-value" id="brand-value">N/A</div>
                        </div>
                        <div class="description-item">
                            <label>Gender</label>
                            <div class="description-value" id="gender-value">N/A</div>
                        </div>
                        <div class="description-item">
                            <label>Age</label>
                            <div class="description-value" id="age-value">N/A</div>
                        </div>
                        <div class="description-item">
                            <label>Price</label>
                            <div class="description-value" id="price-value">N/A</div>
                        </div>
                        <div class="description-item">
                            <label>Shipping Method</label>
                            <div class="description-value">Cash on Delivery</div>
                        </div>
                        <button class="checkout">Add to cart</button>
                    </div>

                </div>
        
            </div>

    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="assets/js/vendor/jquery-3.2.1.min.js"><\/script>')</script>
    <script src="assets/js/vendor/popper.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/core.js"></script>
    <script type="text/javascript">
        let params = new URLSearchParams(document.location.search.substring(1));
        let product_id = params.get("id"); 
        
        if (!product_id) {
            redirectToIndex();
        }
    
        $(document).ready(function() {
            let product_url = getApiURL("api/products/")+product_id;

            $.ajax({
                method: "GET",
                url: product_url,
                dataType: "json",
            }).done(function(res) {
                if (!res) {
                    redirectToIndex();
                }
                $("#product-name").text(res.name);
                $("#brand-value").text(res.brand);
                $("#gender-value").text(res.gender);
                $("#age-value").text(res.age);
                $("#price-value").text(res.price);
            
            });
        });
        </script>
  </body>
</html>
